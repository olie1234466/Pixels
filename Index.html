<!DOCTYPE html>
<html>
<head>
  <title>Pixels</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      background: black;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      overflow: hidden;
      touch-action: none;
    }
    canvas {
      background: #111;
    }
    .controls {
      display: flex;
      flex-direction: column;
      margin-top: 10px;
    }
    .row {
      display: flex;
      justify-content: center;
      margin: 2px 0;
    }
    .button {
      width: 60px;
      height: 60px;
      background: #333;
      color: white;
      font-size: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 2px;
      border-radius: 10px;
      user-select: none;
      touch-action: manipulation;
    }
    .button:active {
      background: #555;
    }
  </style>
</head>
<body>

<canvas id="game" width="400" height="400"></canvas>

<div class="controls">
  <div class="row">
    <div class="button" id="up">⬆️</div>
  </div>
  <div class="row">
    <div class="button" id="left">⬅️</div>
    <div class="button" id="down">⬇️</div>
    <div class="button" id="right">➡️</div>
  </div>
</div>

<script>
  const canvas = document.getElementById("game");
  const ctx = canvas.getContext("2d");

  let player = { x: 190, y: 190, size: 20, speed: 4 };

  let keys = { up:false, down:false, left:false, right:false };

  // Arrow button events
  document.getElementById("up").addEventListener("touchstart", ()=> keys.up=true);
  document.getElementById("up").addEventListener("touchend", ()=> keys.up=false);

  document.getElementById("down").addEventListener("touchstart", ()=> keys.down=true);
  document.getElementById("down").addEventListener("touchend", ()=> keys.down=false);

  document.getElementById("left").addEventListener("touchstart", ()=> keys.left=true);
  document.getElementById("left").addEventListener("touchend", ()=> keys.left=false);

  document.getElementById("right").addEventListener("touchstart", ()=> keys.right=true);
  document.getElementById("right").addEventListener("touchend", ()=> keys.right=false);

  function update() {
    if(keys.up) player.y -= player.speed;
    if(keys.down) player.y += player.speed;
    if(keys.left) player.x -= player.speed;
    if(keys.right) player.x += player.speed;

    // Keep inside canvas
    if(player.x < 0) player.x = 0;
    if(player.y < 0) player.y = 0;
    if(player.x + player.size > canvas.width) player.x = canvas.width - player.size;
    if(player.y + player.size > canvas.height) player.y = canvas.height - player.size;
  }

  function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle = "lime";
    ctx.fillRect(player.x, player.y, player.size, player.size);
  }

  function gameLoop() {
    update();
    draw();
    requestAnimationFrame(gameLoop);
  }

  gameLoop();
</script>

</body>
</html>
